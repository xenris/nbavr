# Tuprules

ifndef mmcu
    mmcu = atmega328p
endif

ifndef freq
    freq = 16000000L
endif

LIB_CFLAGS = -I$(TUP_CWD)
LIB_CFLAGS += -Wall
LIB_CFLAGS += -Wextra
LIB_CFLAGS += -Werror
LIB_CFLAGS += -ffunction-sections
LIB_CFLAGS += -g
LIB_CFLAGS += -std=c99
LIB_CFLAGS += -Os
LIB_CFLAGS += -mmcu=$(mmcu)
LIB_CFLAGS += -DF_CPU=$(freq)
LIB_CFLAGS += -Wl,-gc-sections
LIB_CFLAGS += -fdiagnostics-color=always

LIB_LDFLAGS = -L$(TUP_CWD) -lnbavr

LIB_LIBFILE = $(TUP_CWD)/libnbavr.a
